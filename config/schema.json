{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "FoxESS MCP Server Configuration Schema",
  "type": "object",
  "properties": {
    "foxess_api_key": {
      "type": "string",
      "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",
      "description": "FoxESS API private token in UUID format"
    },
    "foxess_device_sn": {
      "type": "string",
      "pattern": "^[A-Z0-9]{10,20}$",
      "description": "FoxESS device serial number"
    },
    "cache_enabled": {
      "type": "boolean",
      "default": true,
      "description": "Enable caching for improved performance"
    },
    "cache_ttl_minutes": {
      "type": "integer",
      "minimum": 1,
      "maximum": 60,
      "default": 5,
      "description": "Cache time-to-live in minutes"
    },
    "rate_limit_enabled": {
      "type": "boolean",
      "default": true,
      "description": "Enable rate limiting protection"
    },
    "log_level": {
      "type": "string",
      "enum": ["DEBUG", "INFO", "WARNING", "ERROR"],
      "default": "INFO",
      "description": "Logging level"
    },
    "max_concurrent_requests": {
      "type": "integer",
      "minimum": 1,
      "maximum": 10,
      "default": 3,
      "description": "Maximum concurrent API requests"
    },
    "request_timeout_seconds": {
      "type": "integer",
      "minimum": 5,
      "maximum": 120,
      "default": 30,
      "description": "API request timeout in seconds"
    },
    "weather_integration": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": false
        },
        "api_key": {
          "type": "string",
          "description": "Weather API key (optional)"
        },
        "provider": {
          "type": "string",
          "enum": ["openweathermap", "weatherapi"],
          "default": "openweathermap"
        }
      },
      "additionalProperties": false
    }
  },
  "required": ["foxess_api_key", "foxess_device_sn"],
  "additionalProperties": false
}
